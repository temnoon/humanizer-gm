/* ═══════════════════════════════════════════════════════════════════
   WORKSPACE EDIT MODE
   Workspace header, view toggle, action buttons, edit controls
   Extracted from index.css during CSS modularization
   ═══════════════════════════════════════════════════════════════════ */

/* Workspace header - contains view toggle + action buttons */
.workspace__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-medium);
  margin-bottom: var(--space-large);
}

/* View toggle bar - Read/Edit buttons */
.workspace__view-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-tiny);
  padding: var(--space-small);
  background: var(--color-surface-secondary);
  border: var(--border-width-thin) solid var(--color-border-subtle);
  border-radius: var(--radius-medium);
}

/* Book selector dropdown */
.workspace__book-selector {
  display: flex;
  align-items: center;
}

.workspace__book-select {
  padding: var(--space-small) var(--space-base);
  font-size: var(--text-size-small);
  color: var(--color-text-primary);
  background: var(--color-surface-secondary);
  border: var(--border-width-thin) solid var(--color-border-subtle);
  border-radius: var(--radius-medium);
  cursor: pointer;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.workspace__book-select:hover {
  border-color: var(--color-border-default);
  background: var(--color-surface-tertiary);
}

.workspace__book-select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.workspace__go-to-book-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  margin-left: var(--space-tiny);
  font-size: var(--text-size-base);
  color: var(--color-text-secondary);
  background: var(--color-surface-secondary);
  border: var(--border-width-thin) solid var(--color-border-subtle);
  border-radius: var(--radius-small);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out);
}

.workspace__go-to-book-btn:hover {
  color: var(--color-primary);
  border-color: var(--color-primary);
  background: var(--color-surface-tertiary);
}

.workspace__go-to-book-btn:focus-visible {
  outline: 2px solid var(--studio-accent, #6366f1);
  outline-offset: 2px;
}

/* Action buttons group - download, copy, md */
.workspace__actions {
  display: flex;
  align-items: center;
  gap: var(--space-tiny);
  padding: var(--space-tiny);
  background: var(--color-surface-secondary);
  border: var(--border-width-thin) solid var(--color-border-subtle);
  border-radius: var(--radius-medium);
}

.workspace__action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  font-size: var(--text-size-base);
  color: var(--color-text-secondary);
  background: transparent;
  border: none;
  border-radius: var(--radius-small);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out);
}

.workspace__action-btn:hover {
  color: var(--color-text-primary);
  background: var(--color-surface-tertiary);
}

.workspace__action-btn:active {
  transform: scale(0.95);
}

.workspace__action-btn--md {
  font-size: var(--text-size-tiny);
  font-weight: var(--font-weight-semibold);
  letter-spacing: 0.5px;
}

/* Save to Book button */
.workspace__action-btn--save {
  width: auto;
  padding: var(--space-small) var(--space-medium);
  background: var(--color-success, #10b981);
  color: white;
  font-size: var(--text-size-small);
  font-weight: var(--font-weight-medium);
  min-height: var(--touch-target);
  border-radius: var(--radius-small);
}

.workspace__action-btn--save:hover:not(:disabled) {
  background: var(--color-success-hover, #059669);
  color: white;
}

.workspace__action-btn--save:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.workspace__action-btn--saving {
  background: var(--color-warning, #f59e0b);
}

.workspace__action-btn--saved {
  background: var(--color-success, #10b981);
}

.workspace__action-btn--error {
  background: var(--color-error, #ef4444);
}

.workspace__action-btn--save:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
}

/* Divider between save and other actions */
.workspace__action-divider {
  width: 1px;
  height: 20px;
  background: var(--color-border-subtle);
  margin: 0 var(--space-tiny);
}

/* Add to Book button */
.workspace__action-btn--add-to-book {
  font-size: var(--text-size-body);
}

.workspace__action-btn--add-to-book:hover {
  background: var(--color-surface-tertiary);
}

/* Screen reader only text */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Individual toggle button */
.workspace__view-btn {
  padding: var(--space-small) var(--space-medium);
  font-family: var(--font-family-body);
  font-size: var(--text-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  background: transparent;
  border: var(--border-width-thin) solid transparent;
  border-radius: var(--radius-small);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-out);
  min-height: var(--touch-target);
  display: flex;
  align-items: center;
  justify-content: center;
}

.workspace__view-btn:hover:not(:disabled) {
  color: var(--color-text-primary);
  background: var(--color-surface-tertiary);
  border-color: var(--color-border-default);
}

.workspace__view-btn:active:not(:disabled) {
  transform: scale(0.98);
}

.workspace__view-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Active view button state - warm amber aesthetic */
.workspace__view-btn--active,
.workspace__view-btn[aria-pressed="true"] {
  color: var(--color-text-inverse);
  background: var(--studio-accent, #8b6914);
  border-color: var(--studio-accent, #8b6914);
}

.workspace__view-btn--active:hover,
.workspace__view-btn[aria-pressed="true"]:hover {
  background: #7a5c12;
  border-color: #7a5c12;
}

/* Keyboard shortcut hint */
.workspace__view-hint {
  font-family: var(--font-family-mono);
  font-size: var(--text-size-micro);
  color: var(--color-text-tertiary);
  margin-left: auto;
  padding: 0 var(--space-small);
  border-left: var(--border-width-thin) solid var(--color-border-subtle);
  padding-left: var(--space-medium);
}
